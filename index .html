<!DOCTYPE html>
<html>

<head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/css/materialize.min.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body style="margin-left:20%; margin-right:20%;">
    <div class="row">
        <h2 align="center">Scytale Encryption</h2>
        <form class="col s12" method="get">
            <div class="row">
                <div class="input-field col s12">
                    <input id="token" type="text" name="token" class="validate">
                    <label for="token" data-error="wrong" data-success="right">Token</label>
                </div>
                <div class="input-field col s12">
                    <input id="kolom" type="number" name="kolom" class="validate" value="5" min="3" max="10">
                    <label for="kolom" data-error="wrong" data-success="right">Kolom</label>
                </div>
                <div class="col s6">
                    <input name="encrypt" type="radio" id="encrypt" name="radio" value="encrypt" />
                    <label for="encrypt">Encrypt</label>
                </div>
                <div class="col s6">
                    <input name="encrypt" type="radio" id="decrypt" value="decrypt" />
                    <label for="decrypt">Decrypt</label>
                </div>
                <br>
                <input class="waves-effect waves-light btn" type="button" id="button" value="Convert">
            </div>
        </form>
        <div class="input-field col s12">
            <input  id="result" type="text"  value="******" readonly>
            <label for="result"  data-success="right">Result</label>
        </div>
    </div>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
</body>
<script>
$("#button").click(function() {

    if ($("#token").val()) {
        if ($("#encrypt")[0].checked == true) {
           $("#result").val(encrypt($("#token").val(), $("#kolom").val()));
        } else if ($("#decrypt")[0].checked == true) {
        	$("#result").val(decrypt($("#token").val(), $("#kolom").val()));
        }
    }


});


function encrypt(kalimats, kolom) {
    var token = kalimats.split('');
    var baris = token.length / kolom;
    var kalimat = "";



    for (i = 0; i < kolom; i++) {
        for (j = 0; j < baris; j++) {
            if ((j * kolom) + i < (token.length)) {
                kalimat = kalimat + token[(j * kolom) + i];
                console.log(kalimat);

            } else {
                kalimat = kalimat + "*";
            }
        }
    }

    return kalimat;
}


function decrypt(kalimats, kolom) {
    var token = kalimats.split('');
    var baris = token.length / kolom;
    var kalimat = "";

    for (j = 0; j < baris; j++) {
        for (i = 0; i < kolom; i++) {
            if ((j * kolom) + i < (token.length)) {
                kalimat = kalimat + token[(i * baris) + j];
                console.log(kalimat);

            } else {
                kalimat = kalimat + "*";
            }
        }
    }

    return kalimat;
}
</script>

</html>